<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
<style>
body{ background-color:#f5f5f5; }
h3{ margin-left:30px; }
.card{ margin-top:50px; }
.back{position: absolute;}
</style>
</head>
<body>
<header class="blog-header py-3 d-flex">
<h3 class="flex-grow-1">운동 목록</h3>
<div>
	<span id="userNickname"></span>
	<button type="button" class="btn btn-sm btn-secondary" id="logout">로그아웃</button>
</div>
  </header>
  
  <nav class="navbar navbar-expand-lg navbar-dark bg-dark" aria-label="Tenth navbar example">
    <div class="container-fluid">
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarsExample08" aria-controls="navbarsExample08" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>

      <div class="collapse navbar-collapse justify-content-md-center" id="navbarsExample08">
        <ul class="navbar-nav">
          <li class="nav-item">
            <a class="nav-link" aria-current="page" href="../main.html">홈</a>
          </li>
          <li class="nav-item">
            <a class="nav-link active" href="../workList.html">운동목록</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="../calendar.html">운동일정</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="../bbsList.html">자유게시판</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="../mypage.html">마이페이지</a>
          </li>
        </ul>
      </div>
    </div>
  </nav>
  
  <div class="card mb-3">
  <div class="row g-0">
    <div class="col-md-4">
      <img src="../images/클레이머.gif" class="img-fluid rounded-start" alt="...">
    </div>
    <div class="col-md-8">
      <div class="card-body">
        <h5 class="card-title">마운틴 클레이머</h5>
<p class="card-text">마운틴 클라이머(Mountain Climber) 말 그대로 산을 오르는 것처럼 하는 운동입니다. 무릎을 가슴 쪽으로
끌어당기면서 하는 운동입니다. 그리고 마운틴 클라이머의 가장 큰 장점은 장소나 시간의 구애를 받지 않고
또한 기합 소리를 크게 내지 않는 한 소음을 많이 유발하지도 않기 때문에 한 평 남짓한 지면에서도 어디서든지 할 수 있다는 것 <br> 입니다.
마운틴 클라이머는 코어 운동인 플랭크 자세에서 운동하는 운동이기 때문에 만약 플랭크에 익숙하신 분이라면 훨씬 쉽게 따라 하실 수가 있습니다.
<br><br>
마운틴 글라이머는 심폐지구력을 강화해줍니다.
산을 계속 오르다 보면 심박수가 빠르게 증가하는 게 느껴 지지실 겁니다.
이처럼 마운틴 클라이머는 유산소 운동인 동시에<br> 
또한 여러 근육을 사용하는 근력운동이기 때문에 심박수를 빠르게 증가시킵니다.
다리 움직임의 속도를 조절하면서 오랫동안 할 수 있는 거라서 심폐지구력을 기르는 데 매우 효과적입니다.

복부가 날씬해집니다.
마운틴 클라이머는 크런치하고 같이 누워서 하는 운동이기 때문에 복부 운동하고 달리 허리에는 부담이 없습니다.
<br><br>

주의하실 점은 엉덩이를 천장을 향해서 높이 들어 올려서 무릎만 시곗바늘처럼 움직이시면 안 됩니다.
그렇게 되면 전혀 복부에 자극이 되지 않고 운동 효과도 없으니 플랭크 자세를 유지한 채 복부하고 허리에 힘을 주고 운동하셔야 합니다.
</p>
<div id="heart" style="width: 55px;">
	      	<div>
	      		<div class="back" id="emty"><img src="../images/emtyheart.png" width="50px"></div>
	      	</div>
	      	<div>
	      		<div id="fill"><img src="../images/fillheart.png" width="50px"></div>
	      	</div>
	     </div>
      </div>
    </div>
  </div>
</div>

<div class="row row-cols-1 row-cols-md-3 g-4">
  <div class="col">
    <div class="card h-100">
    <div class="card-header">
        <small class="text-muted">구분동작 1</small>
      </div>
      <img src="../images/클레이머1.jpg" class="card-img-top" alt="...">
      <div class="card-body">
        <p class="card-text">두팔을 뻗어 푸쉬업 준비자세를 취해줍니다. </p>
      </div>
    </div>
  </div>
  <div class="col">
    <div class="card h-100">
    <div class="card-header">
        <small class="text-muted">구분동작 2</small>
      </div>
      <img src="../images/클레이머2.jpg" class="card-img-top" alt="...">
      <div class="card-body">
        <p class="card-text">두 다리를 교차로 번갈아가며 바꿔줍니다.</p>
      </div>
    </div>
  </div>
  <div class="col">
    <div class="card h-100">
    <div class="card-header">
        <small class="text-muted">구분동작 3</small>
      </div>
      <img src="../images/클레이머3.jpg" class="card-img-top" alt="...">
      <div class="card-body">
        <p class="card-text">계속해서 동작을 반복해줍니다.</p>
      </div>
    </div>
  </div>
  </div>
</body>
<script>
$(document).ready(function(){
let str = sessionStorage.getItem("login"); // 세션저장소에서 값 빼옴
let json = JSON.parse(str); // 문자열을 JSON으로 파싱
let lstr = localStorage.getItem("login"); // 자동로그인했다면
let ljson = JSON.parse(lstr);

//좋아요 이미지
$.ajax({
	url:"http://localhost:3000/likeCountWork",
	type:"post",
	data:{work_no:47, user_id:json.id},
	success:function(msg){
		//alert(msg)
		if(msg == "notCount"){
			$("#emty").hide()
			$("#fill").show()
		}else{
			$("#emty").show()
			$("#fill").hide()
		}
	},error:function(){
		alert("error")
	}
});

// 좋아요 클릭
$("#heart").click(function(){
	$.ajax({
		url:"http://localhost:3000/likeCountWork",
		type:"post",
		data:{work_no:47, user_id:json.id},
		success:function(msg){
			if(msg == "notCount"){
				$("#emty").show()
				$("#fill").hide()
				
				$.ajax({
					url:"http://localhost:3000/likeCountCancelWork",
					type:"post",
					data:{work_no:47, user_id:json.id},
					success:function(msg){
						//alert(msg)
					},error:function(){
						alert("error")
					}
				});
			}else{
				$("#emty").hide()
				$("#fill").show()
			}
		},error:function(){
			alert("error")
		}
	});
});

if(json.auth!=1){
	$("#adminPageBtn").hide();
}

$("#adminPageBtn").click(()=>{
	location.href="memberList.html"
});

if(str != null){
$("#userNickname").html(json.nickname+"님이 접속중입니다.");
}else{
$("#userNickname").html(ljson.nickname+"님이 접속중입니다.");
}
$("#logout").click(function(){
	
	if(confirm("로그아웃 하시겠습니까?") == true){
		const userAuth = json.auth;
		switch(userAuth){
		case 4:
			Kakao.init('33dac5c74d9c68aa75bc31a1474ec6cd');
			
			if(Kakao.Auth.getAccessToken()){
				Kakao.API.request({
					url:'/v1/user/unlink',
					success:(res)=>{
						console.log(res)
					},
					fail:(err)=>{
						console.log(err)
					},
				})
				Kakao.Auth.setAccessToken(undefined)
			}
		break
		case 5:
			let firebaseConfig = {
			    apiKey: "AIzaSyBf-7zB4MCZOc-48Xsxt2cyOTCRDfI80aw",
			    authDomain: "healthapp-client.firebaseapp.com",
			    projectId: "healthapp-client",
			    storageBucket: "healthapp-client.appspot.com",
			    messagingSenderId: "1011601613020",
			    appId: "1:1011601613020:web:2a87e02a1e4b21e2d0d419",
			    measurementId: "G-T99K3V7HCQ"
			  };

			// Initialize Firebase
			firebase.initializeApp(firebaseConfig);
			firebase.auth().signOut().then(()=>{
				console.log("구글 로그아웃 성공")
			}).catch((err)=>{
				console.log("구글 로그아웃 에러")
			})
		}
			alert("로그아웃되었습니다.")
			sessionStorage.clear();
			localStorage.clear();
			location.href="login.html";
	}
});
});
</script>
</html>