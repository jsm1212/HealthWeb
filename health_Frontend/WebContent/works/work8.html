<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
<style>
body{ background-color:#f5f5f5; }
h3{ margin-left:30px; }
.card{ margin-top:50px; }
.back{position: absolute;}
</style>
</head>
<body>
<header class="blog-header py-3 d-flex">
<h3 class="flex-grow-1">운동 목록</h3>
<div>
	<span id="userNickname"></span>
	<button type="button" class="btn btn-sm btn-secondary" id="logout">로그아웃</button>
</div>
  </header>
  
  <nav class="navbar navbar-expand-lg navbar-dark bg-dark" aria-label="Tenth navbar example">
    <div class="container-fluid">
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarsExample08" aria-controls="navbarsExample08" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>

      <div class="collapse navbar-collapse justify-content-md-center" id="navbarsExample08">
        <ul class="navbar-nav">
          <li class="nav-item">
            <a class="nav-link" aria-current="page" href="../main.html">홈</a>
          </li>
          <li class="nav-item">
            <a class="nav-link active" href="../workList.html">운동목록</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="../calendar.html">운동일정</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="../bbsList.html">자유게시판</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="../mypage.html">마이페이지</a>
          </li>
        </ul>
      </div>
    </div>
  </nav>
  
  <div class="card mb-3">
  <div class="row g-0">
    <div class="col-md-4">
      <img src="../images/플랭크운동.gif" class="img-fluid rounded-start" alt="...">
    </div>
    <div class="col-md-8">
      <div class="card-body">
        <h5 class="card-title">플랭크</h5>
        <br>
<p class="card-text">플랭크 운동은 몸의 코어를 강화하는 운동입니다.
코어란 몸의 중심이란 의미로
등과 복부, 골반 등의 근육을 의미합니다.
각각의 근육들은 올바른 균형과 자세를 만들어주고
척추와 골반을 지탱해 주는 역할을 한답니다.
따라서, 이러한 운동 방법은
다른 운동을 할 때 부상의 위험을 낮춰주고
날씬하고 탄력 있는 복부를 만드는데 좋은 운동입니다.
 <br><br>
플랭크는 일반적으로 물리 치료사가 요통을 호소하는 환자들에게 추천하는 운동입니다.
왜냐하면 플랭크는 척추에 큰 무리를 주지 않고도, 코어를 강화할 수 있는 운동이기 때문입니다.
플랭크를 매일 진행하면 척추가 곧게 펴지고, 안정적인 자세가 만들어집니다. 복근을 단련함으로써 올바른 자세를 유지하게 되는데,
복부에 있는 근육이 목<br> 어깨, 가슴, 허리와 같은 근육에도 영향력을 미치기 때문입니다.
<br><br>
어깨뼈(날개뼈)가 등 뒤로 튀어나오면 안 되며 전거근을 이용해서 어깨뼈를 최대한 갈비뼈에 붙여야 합니다. 
어깨뼈가 등 뒤로 튀어나온 상태로 버티면 힘이 적게 들어가서 편할지 모르지만, 어깨에 무리가 갑니다.
초보자의 경우는 복근의 힘이 언제 풀리는지 모르고 무리하게 버티는 경우가 있는데 이렇게 되면 허리에 무리가 갈 수 있기에 주의해야 합니다.
 </p>
 <div id="heart" style="width: 55px;">
	      	<div>
	      		<div class="back" id="emty"><img src="../images/emtyheart.png" width="50px"></div>
	      	</div>
	      	<div>
	      		<div id="fill"><img src="../images/fillheart.png" width="50px"></div>
	      	</div>
	     </div>
      </div>
    </div>
  </div>
</div>

<div class="row row-cols-1 row-cols-md-3 g-4">
  <div class="col">
    <div class="card h-100">
    <div class="card-header">
        <small class="text-muted">구분동작 1</small>
      </div>
      <img src="../images/플랭크.jpg" class="card-img-top" alt="...">
      <div class="card-body">
        <p class="card-text">두 손을 마주보게하여 팔꿈치를 바닥에 대고 다리를 뻗은 엎드린 자세를 취합니다.</p>
      </div>
    </div>
  </div>
  <div class="col">
    <div class="card h-100">
    <div class="card-header">
        <small class="text-muted">구분동작 2</small>
      </div>
      <img src="../images/플랭크2.jpg" class="card-img-top" alt="...">
      <div class="card-body">
        <p class="card-text">상체의 각도를 반듯하게 유지하며 엉덩이가 내려가지 않도록 유의합니다.</p>
      </div>
    </div>
  </div>
  <div class="col">
    <div class="card h-100">
    <div class="card-header">
        <small class="text-muted">구분동작 3</small>
      </div>
      <img src="../images/플랭크2.jpg" class="card-img-top" alt="...">
      <div class="card-body">
        <p class="card-text">복부의 긴장감을 갖고 해당 자세를 계속 유지합니다.</p>
      </div>
    </div>
  </div>
  </div>
</body>
<script>
$(document).ready(function(){
let str = sessionStorage.getItem("login"); // 세션저장소에서 값 빼옴
let json = JSON.parse(str); // 문자열을 JSON으로 파싱
let lstr = localStorage.getItem("login"); // 자동로그인했다면
let ljson = JSON.parse(lstr);

//좋아요 이미지
$.ajax({
	url:"http://localhost:3000/likeCountWork",
	type:"post",
	data:{work_no:48, user_id:json.id},
	success:function(msg){
		//alert(msg)
		if(msg == "notCount"){
			$("#emty").hide()
			$("#fill").show()
		}else{
			$("#emty").show()
			$("#fill").hide()
		}
	},error:function(){
		alert("error")
	}
});

// 좋아요 클릭
$("#heart").click(function(){
	$.ajax({
		url:"http://localhost:3000/likeCountWork",
		type:"post",
		data:{work_no:48, user_id:json.id},
		success:function(msg){
			if(msg == "notCount"){
				$("#emty").show()
				$("#fill").hide()
				
				$.ajax({
					url:"http://localhost:3000/likeCountCancelWork",
					type:"post",
					data:{work_no:48, user_id:json.id},
					success:function(msg){
						//alert(msg)
					},error:function(){
						alert("error")
					}
				});
			}else{
				$("#emty").hide()
				$("#fill").show()
			}
		},error:function(){
			alert("error")
		}
	});
});

if(json.auth!=1){
	$("#adminPageBtn").hide();
}

$("#adminPageBtn").click(()=>{
	location.href="memberList.html"
});

if(str != null){
$("#userNickname").html(json.nickname+"님이 접속중입니다.");
}else{
$("#userNickname").html(ljson.nickname+"님이 접속중입니다.");
}
$("#logout").click(function(){
	
	if(confirm("로그아웃 하시겠습니까?") == true){
		const userAuth = json.auth;
		switch(userAuth){
		case 4:
			Kakao.init('33dac5c74d9c68aa75bc31a1474ec6cd');
			
			if(Kakao.Auth.getAccessToken()){
				Kakao.API.request({
					url:'/v1/user/unlink',
					success:(res)=>{
						console.log(res)
					},
					fail:(err)=>{
						console.log(err)
					},
				})
				Kakao.Auth.setAccessToken(undefined)
			}
		break
		case 5:
			let firebaseConfig = {
			    apiKey: "AIzaSyBf-7zB4MCZOc-48Xsxt2cyOTCRDfI80aw",
			    authDomain: "healthapp-client.firebaseapp.com",
			    projectId: "healthapp-client",
			    storageBucket: "healthapp-client.appspot.com",
			    messagingSenderId: "1011601613020",
			    appId: "1:1011601613020:web:2a87e02a1e4b21e2d0d419",
			    measurementId: "G-T99K3V7HCQ"
			  };

			// Initialize Firebase
			firebase.initializeApp(firebaseConfig);
			firebase.auth().signOut().then(()=>{
				console.log("구글 로그아웃 성공")
			}).catch((err)=>{
				console.log("구글 로그아웃 에러")
			})
		}
			alert("로그아웃되었습니다.")
			sessionStorage.clear();
			localStorage.clear();
			location.href="login.html";
	}
});
});
</script>
</html>